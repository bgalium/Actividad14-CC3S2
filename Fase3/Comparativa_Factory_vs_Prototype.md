# Fase 3.1: Comparativa Factory vs Prototype en IaC

En el desarrollo de Infraestructura como Código (IaC), los aptrones de diseño que están orientados a la creación de objetos permiten automatizar la generación de recursos optimizando la consistencia y reutilización, se explicará la comparación de 2 patrones: 

El patrón Factory es más adecuado cuando los recursos deben crearse de manera controlada y consistente, especialmente si existen múltiples tipos o configuraciones posibles. En IaC se usa cuando la definición de infraestructura depende de entornos. Este permite centralizar la lógica de construcción garantizando que los entornos vana  ser uniformes y además facilita el mantenimiento de configuraciones. Es ideal para infraestructuras heterogéneras con parámetros variables segun el entorno. Su costo radica en la creación repetida de objetos desde cero lo cual puede incrementar los tiempos de despliegue. Por otro lado, el patrón Prototype es más eficiente cuando se requiere crear variaciones a partir de configuraciones complejas que ya existen, aprovechando la clonación de objetos ya definidos. En la IaC, esto se traduce en copiar plantillas o módulos preconfigurados( en este caso terraform) evitando repetir la lógica de construcción. El costo principal de Prototype proviene de la serialización profunda, el problema de esto es que puede ser costosa en memoria y CPU si los objetos son grandes. Sin embargo, su uso reduce la duplicación de código y acelera la replicación de entornos similares. Si se habla de mantenimiento Factory da claridad estructural y control centralizado, mientras que Prototype promueve la reutilización de configuraciones ya existentes.
